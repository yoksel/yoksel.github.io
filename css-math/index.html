<!DOCTYPE html><html lang="ru"><head><meta name="viewport" content="width=device-width"/><title>Математические функции в CSS • Про CSS</title><meta charSet="utf-8"/><link rel="canonical" href="http://css.yoksel.ru/css-math"/><meta name="description" content="Статьи про CSS и SVG"/><meta name="yandex-verification" content="50720d52dcb3b0b9"/><link rel="shortcut icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"/><link rel="manifest" href="/manifest.json"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="theme-color" content="#ffffff"/><meta property="og:site_name" content="Про CSS"/><meta property="og:title" content="Математические функции в CSS"/><meta property="og:type" content="website"/><meta property="og:url" content="http://css.yoksel.ru/css-math"/><meta property="og:description" content="Статьи про CSS и SVG"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="@yoksel"/><meta name="google-site-verification" content="F-TG-dOz9FIzxUZCGD9MBMwsTukpyzq9LXIX6ZsJl_k"/><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/css/b021450b2efee70e.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/b021450b2efee70e.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/80ec7241589a05e6.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/80ec7241589a05e6.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-5429a50ba5373c56.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-be3a54f9b08a4465.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-1e951eaaada53ad2.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/622-eaadf10c8fcae41f.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/506-29d8d4d3de5db38f.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-a3fefd70ab1d64a0.js" defer="" crossorigin=""></script><script src="/_next/static/LcKEv6KKPVPwwsRWWnW_1/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/LcKEv6KKPVPwwsRWWnW_1/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="styles_page___9hOn page--single"><header class="styles_page-header__CUYa8"><div><div class="styles_header-logo___2Vf2"><a class="styles_header-logo__container__se8yY styles_header-logo__link__yOlgc styles_header-logo__link--amanita__9V5G5" data-name="Про CSS" aria-label="Про CSS" href="/"><div class="styles_header-logo__content__41wOL"><div class="styles_header-logo__text__qp0yG"><span class="styles_header-logo__item--about__Xvl6l">Про</span> <span class="styles_header-logo__item--css__Fqt1q">CSS</span></div></div></a></div></div></header><div class="styles_page-main-wrapper__X3Qny"><main><article class="styles_article__Sk90Z" id="begin" aria-labelledby="article-title"><header class="styles_article__header__WHF_g"><h1 class="styles_article__title__LVWr_" id="article-title">Математические функции в CSS</h1><time dateTime="2020-09-26" class="styles_article__date__vJjD0"><span class="styles_faded-text__usyFy">26/09/2020</span></time></header><dl class="styles_articleLinks__qmwVj use-link-icons"><dt class="styles_articleLinks__title__iqHJm">Содержание:</dt><dd class=""><a href="/css-math/#min-max">min(), max()</a></dd><dd class=""><a href="/css-math/#clamp">clamp()</a></dd><dd class=""><a href="/css-math/#calc">calc()</a></dd><dd class="styles_articleLinks__item--level-1__yEH3O"><a href="/css-math/#examples">Примеры использования</a></dd><dd class="styles_articleLinks__item--level-1__yEH3O"><a href="/css-math/#nuances">Нюансы</a></dd><dd class="styles_articleLinks__item--level-1__yEH3O"><a href="/css-math/#restrictions">Светлое будущее?</a></dd><dd class=""><a href="/css-math/#support">Поддержка браузерами</a></dd></dl><div class="use-link-icons"><p>В CSS есть <a href="https://www.w3.org/TR/css-values-4/#calc-notation">математические функции</a>, их всего четыре: <code>min()</code>, <code>max()</code>, <code>clamp()</code> и <code>calc()</code>.</p>
<p>Математика в каком-то виде есть и в препроцессорах, например, в SCSS есть <code>min()</code>, <code>max()</code> и <code>clamp()</code>, в Less — <code>min()</code> и <code>max()</code>, но есть пара существенных отличий. Во-первых, в препроцессорах всё рассчитывается один раз при компиляции, и в итоговом файле всегда будут фиксированные значения. А во-вторых, в препроцессорных функциях нельзя сочетать разные единицы измерения.</p>


<p>Например, не получится сделать значение на основе пикселей, зависящее от единиц вьюпорта. Вот этот пример работать не будет (это SCSS):</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css">$<span class="token property">base-font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>

<span class="token selector">BODY</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> $base-font-size + 2vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Компилятор будет ругаться на несочетаемые единицы.</p>
<p>Но если перенести рассчеты в <code>calc()</code>, всё будет работать:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css">$<span class="token property">base-font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>

<span class="token selector">BODY</span> <span class="token punctuation">{</span>
  <span class="token selector">font-size: calc(#</span><span class="token punctuation">{</span>$base-font-size<span class="token punctuation">}</span> + 2vw<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p><code>calc()</code> сможет сложить пиксели и единицы вьюпорта. Это позволит сделать плавающий размер шрифта, который будет зависеть от ширины окна браузера. Препроцессоры так не умеют.</p>
<p>Таким образом, главное преимущество математических функций в CSS — динамичность значений благодаря способности сочетать абсолютные и относительные <a href="/size-units/">единицы измерения</a>.</p>
<p>Ещё важно помнить, что при использовании препроцессоров CSS-функции могут конфликтовать с препроцессорными. Например, если в SCSS или в Less написать такое:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>350px<span class="token punctuation">,</span> 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>компилятор будет ругаться на несовместимые единицы, потому что сработает функция из препроцессора.</p>
<p>Чтобы препроцессоры при компиляции не пытались выполнить CSS-функции, в <strong>SCSS</strong> предлагается писать имя функции с заглавной буквы:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">Min</span><span class="token punctuation">(</span>350px<span class="token punctuation">,</span> 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Подробнее об этом можно почитать в статье Аны Тюдор <a href="https://css-tricks.com/when-sass-and-new-css-features-collide/">When Sass and New CSS Features Collide</a>.</p>
<p>В <strong>LESS</strong> поможет <a href="http://lesscss.org/#escaping">оборачивание кавычками</a>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> ~<span class="token string">"min(350px, 50%)"</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>или компиляция с <a href="http://lesscss.org/usage/#less-options-math">использованием параметра</a> <code>math</code> со значением <code>strict</code>.</p>
<h2 id=min-max><a href="#min-max">min(), max()</a></h2>

<p>Функция <code>min()</code> возвращает минимальное из переданных значений, <code>max()</code> — максимальное. При использовании процентов или <a href="/size-units/#relative-units">относительных единиц</a> выбираемое значение будет динамическим и будет зависеть от внешних условий. Например:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>350px<span class="token punctuation">,</span> 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<div class="resizable resizable--x"><iframe height="350"
      style="width: 100%"
      title="yLOKwBv"
      src="https://codepen.io/yoksel/embed/yLOKwBv?&default-tab=result"
    ></iframe></div>

<p>Если поресайзить окно с примером, можно увидеть как это работает.</p>
<p>Если вычисленное значение для <code>50%</code> меньше <code>350px</code>, ширина блока будет равна <code>50%</code>. Как только <code>50%</code> станет больше <code>350px</code>, функция <code>min()</code> выберет меньшее значение, то есть <code>350px</code>, и дальше блок тянуться не будет.</p>
<p>Функция <code>min()</code> будет выбирать подходящее значение учитывая ширину окна в данный момент.</p>
<p>Этот код не делает ничего особенного, что не умел бы CSS без математических функций: точно такое же поведение можно получить задав <code>width</code> и <code>max-width</code>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
<span class="token property">max-width</span><span class="token punctuation">:</span> 350px<span class="token punctuation">;</span>
</code></pre></figure>
<p>Оба варианта для сравнения:</p>
<div class="resizable resizable--x"><iframe height="400"
      style="width: 100%"
      title="CSS min() + max-width"
      src="https://codepen.io/yoksel/embed/xxVjMwL?&default-tab=result"
    ></iframe></div>

<p>Порастягивайте демо, чтобы увидеть, что разницы в поведении блоков нет.</p>
<p>На первый взгляд, <code>min()</code> и <code>max()</code> не делают ничего интересного, но если подумать, как много мест в CSS, где можно управлять <em>диапазоном</em> значений?</p>
<p>Это доступно только для ширины и высоты:</p>
<ul>
<li><code>width</code>, <code>min-width</code>, <code>max-width</code></li>
<li><code>height</code>, <code>min-height</code>, <code>max-height</code></li>
</ul>
<p>и их аналогов, привязанных к направлению письма:</p>
<ul>
<li><code>inline-size</code>, <code>min-inline-size</code>, <code>max-inline-size</code></li>
<li><code>block-size</code>, <code>min-block-size</code>, <code>max-block-size</code></li>
</ul>
<p>У нас нет, например, <code>max-font-size</code> или <code>min-border-width</code>, но благодаря математическим функциям, можно добавить умную динамику практически в любое значение. Например, в размер шрифта:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>5vw<span class="token punctuation">,</span> 20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<div class="resizable resizable--x"><iframe height="380"
      style="width: 100%"
      title="CSS max() in font-size"
      src="https://codepen.io/yoksel/embed/KKzRJoM?&default-tab=result"
    ></iframe></div>

<p>Поресайзите демо, и вы увидите, что при растягивании шрифт будет бесконечно расти, но при сужении, как только <code>5vw</code> станет меньше или равным <code>20px</code>, размер шрифта застынет на этом значении.</p>
<p>Если попытаться реализовать подобное на JS, пришлось бы отслеживать ресайз окна, получать вычисленное значение, и при превышении заданного порога, фиксировать значение на определённом уровне. При использовании <code>min()</code> и <code>max()</code> браузер всё делает сам: отслеживает изменение значений и, при необходимости, фиксирует их — нам нужно просто выбрать функцию и задать диапазон значений.</p>
<p>Это будет работать во всех свойствах, которые используют размеры, в том числе в тенях, градиентах и прочем. Пример с <code>box-shadow</code>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 <span class="token function">max</span><span class="token punctuation">(</span>45px<span class="token punctuation">,</span> 15vw<span class="token punctuation">)</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .5<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<div class="resizable resizable--x"><iframe height="280"
      style="width: 100%"
      title="CSS max() in box-shadow"
      src="https://codepen.io/yoksel/embed/abNGgjx?&default-tab=result"
    ></iframe></div>

<p>Размер тени будет зависеть от размера окна браузера, минимальное значение — <code>45px</code>.</p>
<p>Экспериментируя с функциями <code>min()</code> и <code>max()</code> можно заметить, что они дают возможность управлять или минимальным значением, или максимальным, но нельзя контролировать и то, и другое одновременно. Хотя совершенно логичным выглядит желание, например, задать размер шрифта, который будет расти в диапазоне от минимального значения до максимального и не выходить за эти значения.</p>
<p>Для такого есть ещё одна функция:</p>
<h2 id=clamp><a href="#clamp">clamp()</a></h2>

<p>Она сочетает в себе <code>min()</code> и <code>max()</code>. Функция получает на вход параметры:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token function">clamp</span><span class="token punctuation">(</span>MIN<span class="token punctuation">,</span> VAL<span class="token punctuation">,</span> MAX<span class="token punctuation">)</span>
</code></pre></figure>
<p>И вычисляет значение вот таким образом:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token function">max</span><span class="token punctuation">(</span>MIN<span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>VAL<span class="token punctuation">,</span> MAX<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></figure>
<p>Проще всего её понимать представляя среднее значение (<code>VAL</code>) как желаемое, которое ограничено минимальным и максимальным значениями. Например, этот код</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">clamp</span><span class="token punctuation">(</span>20px<span class="token punctuation">,</span> 5vw<span class="token punctuation">,</span> 40px<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>описывает следующее поведение: размер шрифта равен <code>5vw</code>, но не меньше <code>20px</code> и не больше <code>40px</code>. Порастягивайте демо, чтобы увидеть как это работает:</p>
<div class="resizable resizable--x"><iframe height="300"
      style="width: 100%"
      title="CSS clamp() in font-size"
      src="https://codepen.io/yoksel/embed/gOrzVgX?&default-tab=result"
    ></iframe></div>

<p>Аналогичный подход часто используется при разработке адаптивных сайтов: мы задаём минимальное и максимальное значения ширины страницы, позволяя ей тянуться и сжиматься в заданных пределах, например, в диапазоне от <code>320px</code> до <code>1200px</code>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">min-width</span><span class="token punctuation">:</span> 320px<span class="token punctuation">;</span>
<span class="token property">max-width</span><span class="token punctuation">:</span> 1200px<span class="token punctuation">;</span>
</code></pre></figure>
<p>Используя <code>clamp()</code> это можно записать в одну строчку:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">clamp</span><span class="token punctuation">(</span>320px<span class="token punctuation">,</span> 100%<span class="token punctuation">,</span> 1200px<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Для следующего демо я взяла значения поменьше, но смысл тот же: блоки тянутся в пределах от <code>200px</code> до <code>400px</code>. Ширина верхнего блока управляется с помощью <code>min-width</code> и <code>max-width</code>, нижнего — с помощью <code>clamp()</code>:</p>
<div class="resizable resizable--x"><iframe height="380"
      style="width: 100%"
      title="Min &amp;amp; max-width vs CSS clamp()"
      src="https://codepen.io/yoksel/embed/wvGjVpx?&default-tab=result"
    ></iframe></div>

<p>Оба блока ведут себя совершенно одинаково, разница только в возможностях этих подходов: <code>clamp()</code> позволяет добавить умную динамику значений в любое свойство, не только в размеры блоков. Мне нравится идея использовать <code>clamp()</code> для адаптивных шрифтов, почитать про это можно в статье <a href="https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport">Linearly Scale font-size with CSS clamp() Based on the Viewport</a>.</p>
<p>Предыдущие функции достаточно просты по сравнению с <code>calc()</code>, самой мощной и интересной.</p>
<h2 id=calc><a href="#calc">calc()</a></h2>

<p>Функция позволяет производить математические операции:</p>
<ul>
<li>сложение</li>
<li>вычитание</li>
<li>умножение</li>
<li>деление</li>
</ul>
<p>В отличие от препроцессорных вычислений, <code>calc()</code> позволяет сочетать любые совместимые значения. Например, можно вычесть пиксели из процентов:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Препроцессоры так не умеют, потому что на момент компиляции CSS неизвестно чему равны <code>100%</code>, но у браузера эти данные есть, следовательно, он может взять <code>100%</code>, перевести их в пиксели и вычесть из них <code>20px</code>. Кроме того, браузер пересчитает значение, если ширина элемента изменится.</p>
<p>Внутри <code>calc()</code> можно использовать кастомные свойства, и это делает вычисления в CSS гораздо мощнее препроцессорных. Например, на <code>calc()</code> и кастомных свойствах можно без каких-либо скриптов сделать простой генератор цветовых схем:</p>
<iframe height="450"
      style="width: 100%"
      title="Simple color schemes with custom properties"
      src="https://codepen.io/yoksel/embed/gOrQxrV?&default-tab=result"
    ></iframe>

<p>По клику на цвет в CSS меняется значение CSS-переменной, и вся палитра пересчитывается.</p>
<p>Рассчёт оттенка (<code>hue</code> из HSL) делается таким образом:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">--palette-hue-2</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--palette-hue<span class="token punctuation">)</span> + <span class="token function">var</span><span class="token punctuation">(</span>--palette-step-1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>И затем оттенок используется для формирования цвета в формате HSL:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--palette-hue<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-sat<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">var</span><span class="token punctuation">(</span>--base-lght<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Конечно, подобные вещи удобнее и логичнее делать на JS, демо просто показывает, что CSS достаточно мощный, чтобы уметь такое.</p>
<h3 id=examples><a href="#examples">Примеры использования</a></h3>

<h4>Cохранение логики рассчётов</h4>

<p>Например, если нужна ширина в 1/12 от общей, можно высчитать значение и записать его в стили:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.block</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 8.33%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Но так непонятно что это за число. Станет немного понятнее, если логику рассчёта положить рядом в комментарии:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.block</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 8.33%<span class="token punctuation">;</span> <span class="token comment">/* 100% / 12 */</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>А если использовать <code>calc()</code>, можно само математическое выражение сделать значением:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.block</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% / 12<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Так сразу понятно, что элемент занимает 1/12 ширины родителя, и не нужно поддерживать комментарии в актуальном состоянии.</p>
<h4>Управление размерами элементов</h4>

<p>Например, есть карточка с картинкой, картинка ужимается под ширину колонки с текстом:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.card</span> <span class="token punctuation">{</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card__img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="570"
      style="width: 100%"
      title="Simple card with image"
      src="https://codepen.io/yoksel/embed/zYqyjmR?&default-tab=result"
    ></iframe>

<p>Как растянуть картинку на ширину карточки не привязываясь к размерам карточки? С помощью <code>calc()</code>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.card</span> <span class="token punctuation">{</span>
  <span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card__img</span> <span class="token punctuation">{</span>
  <span class="token comment">/* Ширина картинки */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% + 2rem<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* Сдвиг влево на размер паддинга */</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="570"
      style="width: 100%"
      title="Simple card with full-width image"
      src="https://codepen.io/yoksel/embed/gOrZzJb?&default-tab=result"
    ></iframe>

<p>Можно ещё немного улучшить код, используя кастомные свойства:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.card</span> <span class="token punctuation">{</span>
  <span class="token property">--padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>

  <span class="token property">min-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--padding<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.card__img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% + <span class="token function">var</span><span class="token punctuation">(</span>--padding<span class="token punctuation">)</span> * 2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--padding<span class="token punctuation">)</span> * -1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Так сохранится логика рассчётов, <code>1rem</code> становится не магическим числом, а именованной переменной, и по самому коду будет понятно, что ширина картинки увеличивается на два паддинга, а потом сдвигается влево на один. Можно примерно понять что делает этот код даже не глядя на страницу в браузере.</p>
<p>Ещё это будет полезно для инпутов. Допустим, нужно, чтобы инпут тянулся на всю ширину родителя, оставляя 40 пикселей справа. Вариант с фиксированной шириной не подходит для адаптивного дизайна. Если просто задать ширину 100% и марджин, блок растянется на всю ширину и сжиматься не будет. С этой задачей прекрасно справится <code>calc()</code>:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">.input</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - 40px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="350"
      style="width: 100%"
      title="oNxVzze"
      src="https://codepen.io/yoksel/embed/oNxVzze?&default-tab=result"
    ></iframe>

<p>Текстовое поле всегда будет отодвинуто от края на 40px (+ паддинг) независимо от размера родительского элемента.</p>
<h4>Адаптивная типографика</h4>

<p>С помощью <code>calc()</code> можно примешивать единицы вьюпорта к обычному размеру шрифта, тогда при увеличении размеров экрана будет расти и шрифт:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">BODY</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1rem + .5vw<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>1.2rem + .5vw<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Порастягивайте демо, чтобы увидеть как размер окна влияет на размер шрифта:</p>
<div class="resizable resizable--x"><iframe height="400"
      style="width: 100%"
      title="Simple card with adaptive font-size"
      src="https://codepen.io/yoksel/embed/abNPQQB?&default-tab=result"
    ></iframe></div>

<p>Почитать об этом больше можно <a href="https://css-tricks.com/fun-viewport-units/">тут</a> или <a href="https://css-tricks.com/snippets/css/fluid-typography/">тут</a>.</p>
<p>Мне больше нравится вариант с <code>clamp()</code>, который не только позволяет шрифту расти, но и задаёт ему верхнюю и нижнюю границы.</p>
<h4>Управление размерами фона</h4>

<p>С помощью <code>calc()</code> можно задать размер фоновому изображению, комбинируя фиксированные единицы и проценты. Например, чтобы фон всегда отступал от краёв на определённое значение:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">DIV</span> <span class="token punctuation">{</span>
  <span class="token property">--offset</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">--bg-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span> * 2<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* Цветной градиент */</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>45deg<span class="token punctuation">,</span> crimson<span class="token punctuation">,</span> 20%<span class="token punctuation">,</span> gold<span class="token punctuation">,</span> 80%<span class="token punctuation">,</span> turquoise<span class="token punctuation">)</span> no-repeat<span class="token punctuation">;</span>
  <span class="token comment">/* Размер фона */</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-size<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--bg-size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* Отступ от края элемента */</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="350"
      style="width: 100%"
      title="Gradient size with calc()"
      src="https://codepen.io/yoksel/embed/abNPKBP?&default-tab=result"
    ></iframe>

<p>Полосатые поля показывают прозрачные области вокруг разноцветного градиента.</p>
<p>Используя этот же подход можно делать вырезанные углы квадратной формы:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">DIV</span> <span class="token punctuation">{</span>
  <span class="token property">--offset</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
  <span class="token property">--bg-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100% - <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span> * 2<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* Однотонный фон из двух градиентов */</span>
  <span class="token property">background</span><span class="token punctuation">:</span>
    <span class="token function">linear-gradient</span><span class="token punctuation">(</span>turquoise<span class="token punctuation">,</span> turquoise<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">linear-gradient</span><span class="token punctuation">(</span>turquoise<span class="token punctuation">,</span> turquoise<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
  <span class="token comment">/* Один фон сжат по вертикали, другой по горизонтали */</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span>
    100% <span class="token function">var</span><span class="token punctuation">(</span>--bg-size<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">var</span><span class="token punctuation">(</span>--bg-size<span class="token punctuation">)</span> 100%<span class="token punctuation">;</span>
  <span class="token comment">/* Один фон сдвинут по вертикали, другой по горизонтали */</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span>
    0 <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">var</span><span class="token punctuation">(</span>--offset<span class="token punctuation">)</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="350"
      style="width: 100%"
      title="MWyZqee"
      src="https://codepen.io/yoksel/embed/MWyZqee?&default-tab=result"
    ></iframe>

<p>В отличие от <a href="https://codepen.io/yoksel/pen/abOaKYv">версии с коническими градиентами</a>, этот вариант будет работать во всех браузерах. Способ был <a href="https://twitter.com/SelenIT2/status/1242013922946883585">предложен</a> Ильёй Стрельциным.</p>
<p>Также можно рисовать линейными градиентами полосы заданной ширины:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token selector">DIV</span> <span class="token punctuation">{</span>
  <span class="token property">--line-witdh</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span>

  <span class="token property">background</span><span class="token punctuation">:</span>
    <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
      to left top<span class="token punctuation">,</span>
      transparent <span class="token function">calc</span><span class="token punctuation">(</span>50% - <span class="token function">var</span><span class="token punctuation">(</span>--line-witdh<span class="token punctuation">)</span> / 2<span class="token punctuation">)</span><span class="token punctuation">,</span>
      turquoise 0<span class="token punctuation">,</span> turquoise <span class="token function">calc</span><span class="token punctuation">(</span>50% + <span class="token function">var</span><span class="token punctuation">(</span>--line-witdh<span class="token punctuation">)</span> / 2<span class="token punctuation">)</span><span class="token punctuation">,</span>
      transparent 0
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<iframe height="350"
      style="width: 100%"
      title="Linear gradient with calc()"
      src="https://codepen.io/yoksel/embed/rNeRyYL?&default-tab=result"
    ></iframe>

<h4>Вычисление цветов и шагов градиента</h4>

<p>Иногда для экспериментов нужен полосатый градиент. Чтобы не считать параметры руками, их можно вычислять с помощью <code>calc()</code> на основе кастомных свойств. Вот так задаются параметры:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token property">--steps</span><span class="token punctuation">:</span> 9<span class="token punctuation">;</span>
<span class="token property">--hue-step</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>360deg / <span class="token function">var</span><span class="token punctuation">(</span>--steps<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">--line-width</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
</code></pre></figure>
<p>А вот так потом высчитывается оттенок:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token function">hsl</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--hue-step<span class="token punctuation">)</span> * 2<span class="token punctuation">)</span><span class="token punctuation">,</span> 100%<span class="token punctuation">,</span> 63%<span class="token punctuation">)</span>
</code></pre></figure>
<p>И точка остановки:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--line-width<span class="token punctuation">)</span> * 7<span class="token punctuation">)</span>
</code></pre></figure>
<p>Редактируя переменные можно менять параметры градиента без необходимости пересчитывать вручную шаги или переписывать весь градиент.</p>
<p>Правда, при таком автоматическим вычислении оттенков могут получаться не очень красивые цвета, но для экспериментов вполне пойдёт.</p>
<iframe height="350"
      style="width: 100%"
      title="MWyZPYr"
      src="https://codepen.io/yoksel/embed/MWyZPYr?&default-tab=result"
    ></iframe>

<p>Область применения <code>cacl()</code> гораздо шире перечисленных примеров. В некоторых случаях, если значения не должны меняться динамически, с подобными задачами справятся и препроцессоры, но если должны, например, при изменении кастомных свойств или размера окна, — без <code>calc()</code> не обойтись.</p>
<h3 id=nuances><a href="#nuances">Нюансы</a></h3>

<p>При использовании <code>calc()</code> нужно помнить о некоторых тонкостях:</p>
<ul>
<li><p>арифметический знак всегда нужно окружать пробелами, чтобы браузер мог правильно разобрать выражение. Например, <code>width: calc(100% -50px)</code> не будет работать, правильно так: <code>width: calc(100% - 50px)</code>. Для умножения и деления это требование не является обязательным, но лучше всегда добавлять пробелы, чтобы сохранить код единообразным и легко читаемым;</p>
</li>
<li><p>делить на ноль нельзя, в результате будет ошибка;</p>
</li>
<li><p><code>calc()</code> умеет производить рассчёты только для совместимых единиц. Например, можно сложить пиксели с процентами или единицами вьюпорта, градусы с радианами и вычесть миллисекунды из секунд, но вот сложить секунды с пикселями или градусы с единицами вьюпорта ожидаемо не получится, потому что непонятно в каких единицах ожидается результат.</p>
<p>У меня была слегка безумная идея привязать градусы градиента к ширине вьюпорта (и вращать градиент растягивая окно браузера), но я не придумала как это можно реализовать, и не уверена, что это в принципе возможно без JS;</p>
</li>
<li><p>рассчёты в медиавыражениях поддерживаются только для одинаковых единиц: пиксели можно складывать с пикселями, ремы с ремами. Складывать пиксели с ремами внутри медиавыражения нельзя. Кастомные свойства внутри медиавыражений не работают вообще, и никакие вычисления с ними, соответственно, невозможны (<a href="https://codepen.io/yoksel/full/bGpQXdb">демо с calc() в @media</a>). Для каких-то сложных конструкций можно попробовать воспользоваться <a href="https://css-tricks.com/logic-in-media-queries/">логическими операциями</a>.</p>
</li>
</ul>
<h3 id=restrictions><a href="#restrictions">Светлое будущее?</a></h3>

<p>В <a href="https://www.w3.org/TR/css-values-4/#calc-notation">спецификации</a> есть интересный момент: утверждается, что внутри <code>calc()</code> в качестве значений можно использовать содержимое атрибутов, да и в принципе можно использовать атрибуты как <a href="https://www.w3.org/TR/css-values-4/#attr-notation">значения CSS-свойств</a>.</p>
<p>От обычного использования <code>attr()</code> в качестве <a href="/content">содержимого псевдоэелемента</a> это отличается указанием типа содержимого:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token comment">/* HTML
&lt;div data-color="#FC9">...&lt;/div>
*/</span>

<span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>data-color color<span class="token punctuation">,</span> orange<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Или единиц измерения:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token comment">/* HTML
&lt;div data-length="300">...&lt;/div>
*/</span>

<span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>data-length px<span class="token punctuation">,</span> 200px<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></figure>
<p>Значение после запятой — запасное, на случай, если не удастся получить или распарсить значение атрибута.</p>
<p>Поначалу эта конструкция показалась мне странной: зачем класть данные в атрибуты, а потом ещё и типизировать их в CSS, если можно сразу положить нужное в кастомные свойства?</p>
<p>Например:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token comment">/* HTML
&lt;div style="--width: 100px">&lt;/div>
*/</span>

<span class="token selector">DIV</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--width<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>Но <a href="https://twitter.com/yoksel/status/1304025539120902145">в твиттере</a> мне быстро накидали примеров, когда это было бы действительно удобно. Например, получая размеры из атрибутов было бы удобно делать адаптивные картинки и фреймы. У меня получилось сделать <a href="/adaptive-video-with-css-math">адаптивное видео</a>, используя кастомные свойства, но для этого приходится дублировать размеры в инлайновых стилях. Если бы можно было считывать значения из атрибутов, без дублирования можно было бы обойтись.</p>
<p>На момент написания статьи это не поддерживается <a href="https://caniuse.com/mdn-css_types_attr_type-or-unit">ни одним браузером</a>, но есть некоторая надежда, что однажды это заработает, потому что подобное использование атрибутов описано в спецификации свойства, которое помогло бы управлять соотношением сторон: <a href="https://drafts.csswg.org/css-sizing-4/#ratios">aspect-ratio</a>. Там есть такой пример:</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token comment">/* HTML
&lt;iframe
  src="https://www.youtube.com/embed/0Gr1XSyxZy0"
  width=560
  height=315>
*/</span>

<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">aspect-ratio</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>width number<span class="token punctuation">)</span> / 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">iframe</span> <span class="token punctuation">{</span>
    <span class="token property">aspect-ratio</span><span class="token punctuation">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>width number<span class="token punctuation">)</span> / <span class="token function">attr</span><span class="token punctuation">(</span>height number<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></figure>
<p>И вот это было бы очень круто, потому что избавило бы разработчиков от необходимости городить <a href="https://css-tricks.com/fluid-width-video/">странные конструкции</a> для решения той же задачи. Почитать про <code>aspect-ratio</code> можно в статье Рэйчел Эндрю <a href="https://www.smashingmagazine.com/2019/03/aspect-ratio-unit-css/">Designing An Aspect Ratio Unit For CSS</a>.</p>
<p>Также не так давно в <a href="https://drafts.csswg.org/css-values-4/#round-func">черновики</a> <a href="https://css-live.ru/vecssti-s-polej/novye-matematicheskie-funkcii-v-module-edinic-i-znachenij-css-4-urovnya-eshhe-odin-shag-k-polnocennomu-programmirovaniyu-na-css.html">были добавлены</a> другие математические функции, например, <code>mod()</code>, <code>round()</code>, <code>sin()</code> и многие другие. Это совсем свежее добавление, новые функции ещё нигде не поддерживаются.</p>
<h2 id=support><a href="#support">Поддержка браузерами</a></h2>

<p><code>min()</code>, <code>max()</code>, <code>clamp()</code> и <code>calc()</code> поддерживаются в <a href="https://caniuse.com/css-math-functions">большинстве современных браузеров</a>, их поддержка примерно совпадает с <a href="https://caniuse.com/css-variables">кастомными свойствами</a>. И то, и другое не работает в IE11.</p>
<p>При необходимости проверить поддержку функций и кастомных свойств можно воспользоваться <code>@supports</code> (также учитывая <a href="https://caniuse.com/css-featurequeries">поддержку браузерами</a> для него):</p>
<figure aria-label="Пример кода"><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">--color</span><span class="token punctuation">:</span> pink<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  ...
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">width</span><span class="token punctuation">:</span> <span class="token function">min</span><span class="token punctuation">(</span>10px<span class="token punctuation">,</span> 20px<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  ...
<span class="token punctuation">}</span>
</code></pre></figure>
</div><dl class="styles_articleLinks__qmwVj use-link-icons"><dt class="styles_articleLinks__title__iqHJm">Ссылки по теме:</dt><dd class=""><a rel="noreferrer" href="https://www.w3.org/TR/css-values-4/#calc-notation">Mathematical Expressions: calc(), min(), max() and clamp()</a></dd><dd class=""><a rel="noreferrer" href="http://lesscss.org/functions/#math-functions">Less: Math Functions</a></dd><dd class=""><a rel="noreferrer" href="http://lesscss.org/#escaping">Less: Escaping</a></dd><dd class=""><a rel="noreferrer" href="https://sass-lang.com/documentation/modules/math">Sass:math</a></dd><dd class=""><a rel="noreferrer" href="https://sass-lang.com/documentation/syntax/special-functions">Special Functions</a></dd><dd class=""><a rel="noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/calc">calc()</a></dd><dd class=""><a rel="noreferrer" href="https://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/">Getting Started With CSS calc ()</a></dd><dd class=""><a rel="noreferrer" href="https://css-live.ru/articles/kogda-byvaet-nuzhen-calc.html">Когда бывает нужен calc()</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/keep-math-in-the-css/">Keep Math in the CSS</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/when-sass-and-new-css-features-collide/">When Sass and New CSS Features Collide</a></dd><dd class=""><a rel="noreferrer" href="https://medium.com/buildit/hardcore-css-calc-bdfb0162993c">Hardcore CSS calc()</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/a-complete-guide-to-calc-in-css/">A Complete Guide to calc() in CSS</a></dd><dd class=""><a rel="noreferrer" href="https://heydonworks.com/article/the-flexbox-holy-albatross-reincarnated/">The Flexbox Holy Albatross Reincarnated</a></dd><dd class=""><a rel="noreferrer" href="https://www.madebymike.com.au/writing/fluid-type-calc-examples/">Fluid typography examples</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/snippets/css/fluid-typography/">Fluid Typography</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/fun-viewport-units/">Fun with Viewport Units</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/logic-in-media-queries/">Logic in Media Queries</a></dd><dd class=""><a rel="noreferrer" href="https://drafts.csswg.org/css-sizing-4/#ratios">aspect-ratio</a></dd><dd class=""><a rel="noreferrer" href="https://www.smashingmagazine.com/2019/03/aspect-ratio-unit-css/">Designing An Aspect Ratio Unit For CSS</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/fluid-width-video/">Fluid Width Video</a></dd><dd class=""><a rel="noreferrer" href="https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport">Linearly Scale font-size with CSS clamp() Based on the Viewport]()</a></dd><dd class=""><a rel="noreferrer" href="https://www.w3.org/TR/css-values-3/#attr-notation">Attribute References: attr()</a></dd><dd class=""><a rel="noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/attr">attr()</a></dd><dd class=""><a rel="noreferrer" href="https://css-live.ru/vecssti-s-polej/novye-matematicheskie-funkcii-v-module-edinic-i-znachenij-css-4-urovnya-eshhe-odin-shag-k-polnocennomu-programmirovaniyu-na-css.html">Новые математические функции в модуле единиц и значений CSS 4 уровня – еще один шаг к полноценному программированию на CSS</a></dd><dd class=""><a rel="noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/@supports">@supports</a></dd><dd class=""><a href="/size-units/#relative-units">Единицы размеров в CSS</a></dd><dd class=""><a href="/adaptive-video-with-css-math/">Адаптивное видео с помощью встроенных математических функций CSS</a></dd></dl><dl class="styles_articleTags__J922k no-bullets"><dt class="styles_articleTags__title___wHhy">Метки:</dt><dd class="styles_articleTags__item__5eA1U"><a href="/tags/#css-math">математика в CSS</a></dd></dl></article><div class="styles_articlePrevNext__skbA4"><a class="styles_articlePrevNext__item__bHoHN styles_articlePrevNext__item--previous___NMI8" title="Адаптивное видео с помощью встроенных математических функций CSS" href="/adaptive-video-with-css-math/"><span class="styles_articlePrevNext__arrow__E_rkL">←</span><span class="styles_articlePrevNext__text__WYoJ9">Адаптивное видео с помощью встроенных математических функций CSS</span></a></div><a href="#begin" class="post__marker post__marker--hidden" title="Наверх"><div class="styles_visually-hidden__nDPfz">Наверх</div></a></main><aside><h2 class="styles_visually-hidden__nDPfz">Сайдбар</h2><div class="styles_widget___4jHD"><h3 class="styles_widget__title__QlX2W">Статьи</h3><ul class="styles_widget__list__TyLbK"><li class="styles_widget__item__VcSjQ styles_widget__item--current__1oGdd"><span class=""><span class="">Математические функции в CSS</span></span></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/adaptive-video-with-css-math/"><span class="styles_widget__link-text__uygQq">Адаптивное видео с помощью встроенных математических функций CSS</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/inaccessibility/"><span class="styles_widget__link-text__uygQq">Недоступность в картинках</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/size-units/"><span class="styles_widget__link-text__uygQq">Единицы размеров в CSS</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/color-themes-generator/"><span class="styles_widget__link-text__uygQq">Генератор цветовых тем</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/jekyll-gatsby/"><span class="styles_widget__link-text__uygQq">Jekyll → Gatsby</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/opentype-variable-fonts/"><span class="styles_widget__link-text__uygQq">Вариативные шрифты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-sizes/"><span class="styles_widget__link-text__uygQq">Размеры в SVG</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/adaptive-pixel-perfect/"><span class="styles_widget__link-text__uygQq">Адаптивный Pixel Perfect</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/a11y-for-logotypes/"><span class="styles_widget__link-text__uygQq">Логотип не отвечает или временно недоступен</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-patterns/"><span class="styles_widget__link-text__uygQq">SVG-паттерны</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-bubble/"><span class="styles_widget__link-text__uygQq">Мыльные пузыри на SVG</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-gradients/"><span class="styles_widget__link-text__uygQq">SVG-градиенты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/funny-little-console/"><span class="styles_widget__link-text__uygQq">Весёлая консолька</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-masks/"><span class="styles_widget__link-text__uygQq">SVG-маски</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/scroll-snap/"><span class="styles_widget__link-text__uygQq">Умная прокрутка со Scroll Snap Points</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-animation-algorithms/"><span class="styles_widget__link-text__uygQq">CSS-анимации для ротации изображений</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/animated-svg-mask/"><span class="styles_widget__link-text__uygQq">Анимированные SVG-маски</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-stroke/"><span class="styles_widget__link-text__uygQq">Странности обводки в SVG</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-preloaders/"><span class="styles_widget__link-text__uygQq">SVG-прелоадеры</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/animated-gradients-2/"><span class="styles_widget__link-text__uygQq">Анимируем градиенты ещё раз</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/background-blend-mode/"><span class="styles_widget__link-text__uygQq">Background-blend-mode</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-decoration/"><span class="styles_widget__link-text__uygQq">Возможности оформления SVG</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-and-svg-masks/"><span class="styles_widget__link-text__uygQq">CSS и SVG маски</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/nth-child/"><span class="styles_widget__link-text__uygQq">Nth-child и nth-of-type</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-icons/"><span class="styles_widget__link-text__uygQq">SVG-иконки</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-fill-and-stroke/"><span class="styles_widget__link-text__uygQq">SVG: заливка и обводка</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-path/"><span class="styles_widget__link-text__uygQq">SVG-path</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-groups-use/"><span class="styles_widget__link-text__uygQq">SVG: группировка и переиспользование элементов</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg-shapes/"><span class="styles_widget__link-text__uygQq">SVG-фигуры и трансформации</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/svg/"><span class="styles_widget__link-text__uygQq">SVG</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/3d-and-gradients/"><span class="styles_widget__link-text__uygQq">СSS-градиенты и 3D</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/shadowpainter/"><span class="styles_widget__link-text__uygQq">Рисовалка анимированных теней</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/new-patterns/"><span class="styles_widget__link-text__uygQq">Свежие CSS-паттерны</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-patterns/"><span class="styles_widget__link-text__uygQq">CSS-паттерны</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/radial-gradients/"><span class="styles_widget__link-text__uygQq">Радиальные градиенты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/linear-gradients/"><span class="styles_widget__link-text__uygQq">Линейные градиенты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/tic-tac-toe/"><span class="styles_widget__link-text__uygQq">Крестики-нолики на CSS</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/border-image/"><span class="styles_widget__link-text__uygQq">Border-image</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/digital-watch/"><span class="styles_widget__link-text__uygQq">Электронные часы на CSS и JS.</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/specifity/"><span class="styles_widget__link-text__uygQq">Сколько весят селекторы?</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/unicode/"><span class="styles_widget__link-text__uygQq">Символы юникода</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/content/"><span class="styles_widget__link-text__uygQq">Свойство content</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/animation-for-gradients/"><span class="styles_widget__link-text__uygQq">Анимируем CSS-градиенты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/text-effects/"><span class="styles_widget__link-text__uygQq">Текстовые эффекты</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/list-like-tree/"><span class="styles_widget__link-text__uygQq">Древовидный список на CSS</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-selectors-part2/"><span class="styles_widget__link-text__uygQq">Css-селекторы, часть 2</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-selectors/"><span class="styles_widget__link-text__uygQq">Css-селекторы</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/kontekst-nalozheniya/"><span class="styles_widget__link-text__uygQq">Контекст наложения</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/box-sizing/"><span class="styles_widget__link-text__uygQq">Box-sizing</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/dva-sposoba-proshit-e-lement-po-krayu/"><span class="styles_widget__link-text__uygQq">Два способа &quot;прошить&quot; элемент по краю</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/tsveta/"><span class="styles_widget__link-text__uygQq">Цвета в CSS</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/fon-pod-strochkami-dobavlyaem-polya/"><span class="styles_widget__link-text__uygQq">Фон под строчками: добавляем поля</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/box-shadow/"><span class="styles_widget__link-text__uygQq">Box-shadow</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-figury-lepestok/"><span class="styles_widget__link-text__uygQq">Css-фигуры: лепесток</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/3d-cube/"><span class="styles_widget__link-text__uygQq">3D-куб</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-animation/"><span class="styles_widget__link-text__uygQq">Css Animation</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/transform/"><span class="styles_widget__link-text__uygQq">Transform</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/border-radius/"><span class="styles_widget__link-text__uygQq">Border-radius</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/first-letter/"><span class="styles_widget__link-text__uygQq">First letter</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/css-figury/"><span class="styles_widget__link-text__uygQq">CSS-фигуры</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/eti-glaza-naprotiv/"><span class="styles_widget__link-text__uygQq">Эти глаза напротив</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/strelki-s-pomoshh-yu-svojstva-border/"><span class="styles_widget__link-text__uygQq">Стрелки с помощью свойства border</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/flexbox/"><span class="styles_widget__link-text__uygQq">Flexbox</span></a></li></ul></div><div class="styles_widget___4jHD"><h3 class="styles_widget__title__QlX2W">Страницы</h3><ul class="styles_widget__list__TyLbK"><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/svg-links/"><span class="styles_widget__link-text__uygQq">SVG: полезные ссылки</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/css-selectors/"><span class="styles_widget__link-text__uygQq">CSS-селекторы одной таблицей</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/tablitsa-imenovanny-h-tsvetov/"><span class="styles_widget__link-text__uygQq">Таблица именованных цветов</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/transform-functions/"><span class="styles_widget__link-text__uygQq">Функции Transform</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/svojstva-animation/"><span class="styles_widget__link-text__uygQq">Свойства Animation одной таблицей</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/svojstva-transform/"><span class="styles_widget__link-text__uygQq">Свойства Transform</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/razny-j-sintaksis-flexbox/"><span class="styles_widget__link-text__uygQq">Разный синтаксис Flexbox</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" href="/pages/svojstva-flexbox/"><span class="styles_widget__link-text__uygQq">Свойства Flexbox одной таблицей</span></a></li></ul></div><div class="styles_widget___4jHD"><h3 class="styles_widget__title__QlX2W">Проекты</h3><ul class="styles_widget__list__TyLbK"><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/grid-cheatsheet/"><span class="styles_widget__link-text__uygQq">Grid Cheatsheet</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>147</span></a><div class="styles_widget__desc__HDlYV">Шпаргалка по&nbsp;гридам</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/flex-cheatsheet/"><span class="styles_widget__link-text__uygQq">Flexbox Cheatsheet</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>1298</span></a><div class="styles_widget__desc__HDlYV">Шпаргалка по&nbsp;флексбоксам</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/tema/"><span class="styles_widget__link-text__uygQq">Tema</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>32</span></a><div class="styles_widget__desc__HDlYV">Генератор цветовых тем из CSS/SCSS/Less-переменных</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/svg-filters/"><span class="styles_widget__link-text__uygQq">SVG Filters</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>270</span></a><div class="styles_widget__desc__HDlYV">Конструктор SVG-фильтров</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/svg-gradient-map/"><span class="styles_widget__link-text__uygQq">SVG Gradient Map Filter</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>149</span></a><div class="styles_widget__desc__HDlYV">Конструктор фильтров c&nbsp;Gradient&nbsp;Map</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/url-encoder/"><span class="styles_widget__link-text__uygQq">url-encoder для SVG</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>1170</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://github.com/yoksel/common-words"><span class="styles_widget__link-text__uygQq">Common Words</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>3073</span></a><div class="styles_widget__desc__HDlYV">Слова, часто используемые в&nbsp;CSS-классах</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/html-tree/"><span class="styles_widget__link-text__uygQq">HTML Tree</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>220</span></a><div class="styles_widget__desc__HDlYV">Генератор структуры документа с&nbsp;проверкой БЭМ-классов</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://github.com/yoksel/pixel-glass-js"><span class="styles_widget__link-text__uygQq">Pixel Glass</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>154</span></a><div class="styles_widget__desc__HDlYV">Небольшой скрипт для проверки разметки на&nbsp;соответствие макету</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/handy-colors/"><span class="styles_widget__link-text__uygQq">Handy Colors</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>35</span></a><div class="styles_widget__desc__HDlYV">Список именованных цветов с&nbsp;готовыми палитрами</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/relative-clip-path/"><span class="styles_widget__link-text__uygQq">Relative Clip Path</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>171</span></a><div class="styles_widget__desc__HDlYV">Конвертер абсолютных координат пути в относительные</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/emoji-brush/"><span class="styles_widget__link-text__uygQq">Emoji Brush</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>32</span></a><div class="styles_widget__desc__HDlYV">Кисточка с эмоджи</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/snowflake/"><span class="styles_widget__link-text__uygQq">Snowflake</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>37</span></a><div class="styles_widget__desc__HDlYV">Генератор снежинок</div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/unicode-table/"><span class="styles_widget__link-text__uygQq">Таблица символов юникода</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>16</span></a></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/wave-maker/"><span class="styles_widget__link-text__uygQq">Wave Maker</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>22</span></a><div class="styles_widget__desc__HDlYV">Конструктор волн с&nbsp;использованием <a href="https://www.w3.org/TR/SVG2/paths.html#PathDataEllipticalArcCommands">SVG Arcs</a></div></li><li class="styles_widget__item__VcSjQ"><a class="styles_widget__link__aNAHo" rel="noreferrer" href="https://yoksel.github.io/shadowPainter/"><span class="styles_widget__link-text__uygQq">Shadow Painter</span><span class="styles_widget__stars___s8X0" title="Звёзд на гитхабе"><span class="styles_visually-hidden__nDPfz">Звёзд на гитхабе:</span>17</span></a><div class="styles_widget__desc__HDlYV">Рисовалка пиксельных анимаций на&nbsp;основе box-shadow</div></li></ul></div></aside></div><footer class="styles_page-footer__3oCLD"><nav class="styles_page-footer__nav__V_rxP"><h2 class="styles_visually-hidden__nDPfz">Нижняя навигация</h2><div class="styles_page-footer__container__8C6jd"><div class="styles_footer-logo___tu5l"><a class="styles_footer-logo__link__r8dk3" data-name="Про CSS" aria-label="Про CSS" href="/">Про CSS</a></div><ul class="styles_page-footer__nav-list__wkQ8I use-link-icons no-site-icons"><li class="styles_page-footer__nav-item__5F9Tl"><a class="styles_page-footer__nav-text__0Ke53" href="/about/">О сайте</a></li><li class="styles_page-footer__nav-item__5F9Tl"><a class="styles_page-footer__nav-text__0Ke53" href="/tags/">Метки</a></li><li class="styles_page-footer__nav-item__5F9Tl"><a class="styles_page-footer__nav-text__0Ke53" rel="noreferrer" href="https://twitter.com/yoksel">Twitter</a></li><li class="styles_page-footer__nav-item__5F9Tl"><a class="styles_page-footer__nav-text__0Ke53" rel="noreferrer" href="https://github.com/yoksel">Github</a></li></ul></div></nav></footer><div class="styles_counter__Epo2H"><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter22204352 = new Ya.Metrika({id:22204352, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/22204352" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"article":{"title":"Математические функции в CSS","slug":"css-math","content":"\u003cp\u003eВ CSS есть \u003ca href=\"https://www.w3.org/TR/css-values-4/#calc-notation\"\u003eматематические функции\u003c/a\u003e, их всего четыре: \u003ccode\u003emin()\u003c/code\u003e, \u003ccode\u003emax()\u003c/code\u003e, \u003ccode\u003eclamp()\u003c/code\u003e и \u003ccode\u003ecalc()\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eМатематика в каком-то виде есть и в препроцессорах, например, в SCSS есть \u003ccode\u003emin()\u003c/code\u003e, \u003ccode\u003emax()\u003c/code\u003e и \u003ccode\u003eclamp()\u003c/code\u003e, в Less — \u003ccode\u003emin()\u003c/code\u003e и \u003ccode\u003emax()\u003c/code\u003e, но есть пара существенных отличий. Во-первых, в препроцессорах всё рассчитывается один раз при компиляции, и в итоговом файле всегда будут фиксированные значения. А во-вторых, в препроцессорных функциях нельзя сочетать разные единицы измерения.\u003c/p\u003e\n\n\n\u003cp\u003eНапример, не получится сделать значение на основе пикселей, зависящее от единиц вьюпорта. Вот этот пример работать не будет (это SCSS):\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e$\u003cspan class=\"token property\"\u003ebase-font-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 16px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003eBODY\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003efont-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $base-font-size + 2vw\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eКомпилятор будет ругаться на несочетаемые единицы.\u003c/p\u003e\n\u003cp\u003eНо если перенести рассчеты в \u003ccode\u003ecalc()\u003c/code\u003e, всё будет работать:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e$\u003cspan class=\"token property\"\u003ebase-font-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 16px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003eBODY\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003efont-size: calc(#\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e$base-font-size\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e + 2vw\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003e\u003ccode\u003ecalc()\u003c/code\u003e сможет сложить пиксели и единицы вьюпорта. Это позволит сделать плавающий размер шрифта, который будет зависеть от ширины окна браузера. Препроцессоры так не умеют.\u003c/p\u003e\n\u003cp\u003eТаким образом, главное преимущество математических функций в CSS — динамичность значений благодаря способности сочетать абсолютные и относительные \u003ca href=\"/size-units/\"\u003eединицы измерения\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eЕщё важно помнить, что при использовании препроцессоров CSS-функции могут конфликтовать с препроцессорными. Например, если в SCSS или в Less написать такое:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003emin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e350px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 50%\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eкомпилятор будет ругаться на несовместимые единицы, потому что сработает функция из препроцессора.\u003c/p\u003e\n\u003cp\u003eЧтобы препроцессоры при компиляции не пытались выполнить CSS-функции, в \u003cstrong\u003eSCSS\u003c/strong\u003e предлагается писать имя функции с заглавной буквы:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eMin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e350px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 50%\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eПодробнее об этом можно почитать в статье Аны Тюдор \u003ca href=\"https://css-tricks.com/when-sass-and-new-css-features-collide/\"\u003eWhen Sass and New CSS Features Collide\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eВ \u003cstrong\u003eLESS\u003c/strong\u003e поможет \u003ca href=\"http://lesscss.org/#escaping\"\u003eоборачивание кавычками\u003c/a\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ~\u003cspan class=\"token string\"\u003e\"min(350px, 50%)\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eили компиляция с \u003ca href=\"http://lesscss.org/usage/#less-options-math\"\u003eиспользованием параметра\u003c/a\u003e \u003ccode\u003emath\u003c/code\u003e со значением \u003ccode\u003estrict\u003c/code\u003e.\u003c/p\u003e\n\u003ch2 id=min-max\u003e\u003ca href=\"#min-max\"\u003emin(), max()\u003c/a\u003e\u003c/h2\u003e\n\n\u003cp\u003eФункция \u003ccode\u003emin()\u003c/code\u003e возвращает минимальное из переданных значений, \u003ccode\u003emax()\u003c/code\u003e — максимальное. При использовании процентов или \u003ca href=\"/size-units/#relative-units\"\u003eотносительных единиц\u003c/a\u003e выбираемое значение будет динамическим и будет зависеть от внешних условий. Например:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003emin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e350px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 50%\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"yLOKwBv\"\n      src=\"https://codepen.io/yoksel/embed/yLOKwBv?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eЕсли поресайзить окно с примером, можно увидеть как это работает.\u003c/p\u003e\n\u003cp\u003eЕсли вычисленное значение для \u003ccode\u003e50%\u003c/code\u003e меньше \u003ccode\u003e350px\u003c/code\u003e, ширина блока будет равна \u003ccode\u003e50%\u003c/code\u003e. Как только \u003ccode\u003e50%\u003c/code\u003e станет больше \u003ccode\u003e350px\u003c/code\u003e, функция \u003ccode\u003emin()\u003c/code\u003e выберет меньшее значение, то есть \u003ccode\u003e350px\u003c/code\u003e, и дальше блок тянуться не будет.\u003c/p\u003e\n\u003cp\u003eФункция \u003ccode\u003emin()\u003c/code\u003e будет выбирать подходящее значение учитывая ширину окна в данный момент.\u003c/p\u003e\n\u003cp\u003eЭтот код не делает ничего особенного, что не умел бы CSS без математических функций: точно такое же поведение можно получить задав \u003ccode\u003ewidth\u003c/code\u003e и \u003ccode\u003emax-width\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 50%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token property\"\u003emax-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 350px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eОба варианта для сравнения:\u003c/p\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"CSS min() + max-width\"\n      src=\"https://codepen.io/yoksel/embed/xxVjMwL?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eПорастягивайте демо, чтобы увидеть, что разницы в поведении блоков нет.\u003c/p\u003e\n\u003cp\u003eНа первый взгляд, \u003ccode\u003emin()\u003c/code\u003e и \u003ccode\u003emax()\u003c/code\u003e не делают ничего интересного, но если подумать, как много мест в CSS, где можно управлять \u003cem\u003eдиапазоном\u003c/em\u003e значений?\u003c/p\u003e\n\u003cp\u003eЭто доступно только для ширины и высоты:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ewidth\u003c/code\u003e, \u003ccode\u003emin-width\u003c/code\u003e, \u003ccode\u003emax-width\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eheight\u003c/code\u003e, \u003ccode\u003emin-height\u003c/code\u003e, \u003ccode\u003emax-height\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eи их аналогов, привязанных к направлению письма:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003einline-size\u003c/code\u003e, \u003ccode\u003emin-inline-size\u003c/code\u003e, \u003ccode\u003emax-inline-size\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eblock-size\u003c/code\u003e, \u003ccode\u003emin-block-size\u003c/code\u003e, \u003ccode\u003emax-block-size\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eУ нас нет, например, \u003ccode\u003emax-font-size\u003c/code\u003e или \u003ccode\u003emin-border-width\u003c/code\u003e, но благодаря математическим функциям, можно добавить умную динамику практически в любое значение. Например, в размер шрифта:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003efont-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e5vw\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 20px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"380\"\n      style=\"width: 100%\"\n      title=\"CSS max() in font-size\"\n      src=\"https://codepen.io/yoksel/embed/KKzRJoM?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eПоресайзите демо, и вы увидите, что при растягивании шрифт будет бесконечно расти, но при сужении, как только \u003ccode\u003e5vw\u003c/code\u003e станет меньше или равным \u003ccode\u003e20px\u003c/code\u003e, размер шрифта застынет на этом значении.\u003c/p\u003e\n\u003cp\u003eЕсли попытаться реализовать подобное на JS, пришлось бы отслеживать ресайз окна, получать вычисленное значение, и при превышении заданного порога, фиксировать значение на определённом уровне. При использовании \u003ccode\u003emin()\u003c/code\u003e и \u003ccode\u003emax()\u003c/code\u003e браузер всё делает сам: отслеживает изменение значений и, при необходимости, фиксирует их — нам нужно просто выбрать функцию и задать диапазон значений.\u003c/p\u003e\n\u003cp\u003eЭто будет работать во всех свойствах, которые используют размеры, в том числе в тенях, градиентах и прочем. Пример с \u003ccode\u003ebox-shadow\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ebox-shadow\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 0 0 \u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e45px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 15vw\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003ergba\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e0\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 0\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 0\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e .5\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"280\"\n      style=\"width: 100%\"\n      title=\"CSS max() in box-shadow\"\n      src=\"https://codepen.io/yoksel/embed/abNGgjx?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eРазмер тени будет зависеть от размера окна браузера, минимальное значение — \u003ccode\u003e45px\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eЭкспериментируя с функциями \u003ccode\u003emin()\u003c/code\u003e и \u003ccode\u003emax()\u003c/code\u003e можно заметить, что они дают возможность управлять или минимальным значением, или максимальным, но нельзя контролировать и то, и другое одновременно. Хотя совершенно логичным выглядит желание, например, задать размер шрифта, который будет расти в диапазоне от минимального значения до максимального и не выходить за эти значения.\u003c/p\u003e\n\u003cp\u003eДля такого есть ещё одна функция:\u003c/p\u003e\n\u003ch2 id=clamp\u003e\u003ca href=\"#clamp\"\u003eclamp()\u003c/a\u003e\u003c/h2\u003e\n\n\u003cp\u003eОна сочетает в себе \u003ccode\u003emin()\u003c/code\u003e и \u003ccode\u003emax()\u003c/code\u003e. Функция получает на вход параметры:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token function\"\u003eclamp\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eMIN\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e VAL\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e MAX\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИ вычисляет значение вот таким образом:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eMIN\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003emin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eVAL\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e MAX\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eПроще всего её понимать представляя среднее значение (\u003ccode\u003eVAL\u003c/code\u003e) как желаемое, которое ограничено минимальным и максимальным значениями. Например, этот код\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003efont-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eclamp\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e20px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 5vw\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 40px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eописывает следующее поведение: размер шрифта равен \u003ccode\u003e5vw\u003c/code\u003e, но не меньше \u003ccode\u003e20px\u003c/code\u003e и не больше \u003ccode\u003e40px\u003c/code\u003e. Порастягивайте демо, чтобы увидеть как это работает:\u003c/p\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"300\"\n      style=\"width: 100%\"\n      title=\"CSS clamp() in font-size\"\n      src=\"https://codepen.io/yoksel/embed/gOrzVgX?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eАналогичный подход часто используется при разработке адаптивных сайтов: мы задаём минимальное и максимальное значения ширины страницы, позволяя ей тянуться и сжиматься в заданных пределах, например, в диапазоне от \u003ccode\u003e320px\u003c/code\u003e до \u003ccode\u003e1200px\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003emin-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 320px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token property\"\u003emax-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1200px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИспользуя \u003ccode\u003eclamp()\u003c/code\u003e это можно записать в одну строчку:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eclamp\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e320px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 100%\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 1200px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eДля следующего демо я взяла значения поменьше, но смысл тот же: блоки тянутся в пределах от \u003ccode\u003e200px\u003c/code\u003e до \u003ccode\u003e400px\u003c/code\u003e. Ширина верхнего блока управляется с помощью \u003ccode\u003emin-width\u003c/code\u003e и \u003ccode\u003emax-width\u003c/code\u003e, нижнего — с помощью \u003ccode\u003eclamp()\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"380\"\n      style=\"width: 100%\"\n      title=\"Min \u0026amp;amp; max-width vs CSS clamp()\"\n      src=\"https://codepen.io/yoksel/embed/wvGjVpx?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eОба блока ведут себя совершенно одинаково, разница только в возможностях этих подходов: \u003ccode\u003eclamp()\u003c/code\u003e позволяет добавить умную динамику значений в любое свойство, не только в размеры блоков. Мне нравится идея использовать \u003ccode\u003eclamp()\u003c/code\u003e для адаптивных шрифтов, почитать про это можно в статье \u003ca href=\"https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport\"\u003eLinearly Scale font-size with CSS clamp() Based on the Viewport\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eПредыдущие функции достаточно просты по сравнению с \u003ccode\u003ecalc()\u003c/code\u003e, самой мощной и интересной.\u003c/p\u003e\n\u003ch2 id=calc\u003e\u003ca href=\"#calc\"\u003ecalc()\u003c/a\u003e\u003c/h2\u003e\n\n\u003cp\u003eФункция позволяет производить математические операции:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eсложение\u003c/li\u003e\n\u003cli\u003eвычитание\u003c/li\u003e\n\u003cli\u003eумножение\u003c/li\u003e\n\u003cli\u003eделение\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eВ отличие от препроцессорных вычислений, \u003ccode\u003ecalc()\u003c/code\u003e позволяет сочетать любые совместимые значения. Например, можно вычесть пиксели из процентов:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% - 20px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eПрепроцессоры так не умеют, потому что на момент компиляции CSS неизвестно чему равны \u003ccode\u003e100%\u003c/code\u003e, но у браузера эти данные есть, следовательно, он может взять \u003ccode\u003e100%\u003c/code\u003e, перевести их в пиксели и вычесть из них \u003ccode\u003e20px\u003c/code\u003e. Кроме того, браузер пересчитает значение, если ширина элемента изменится.\u003c/p\u003e\n\u003cp\u003eВнутри \u003ccode\u003ecalc()\u003c/code\u003e можно использовать кастомные свойства, и это делает вычисления в CSS гораздо мощнее препроцессорных. Например, на \u003ccode\u003ecalc()\u003c/code\u003e и кастомных свойствах можно без каких-либо скриптов сделать простой генератор цветовых схем:\u003c/p\u003e\n\u003ciframe height=\"450\"\n      style=\"width: 100%\"\n      title=\"Simple color schemes with custom properties\"\n      src=\"https://codepen.io/yoksel/embed/gOrQxrV?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eПо клику на цвет в CSS меняется значение CSS-переменной, и вся палитра пересчитывается.\u003c/p\u003e\n\u003cp\u003eРассчёт оттенка (\u003ccode\u003ehue\u003c/code\u003e из HSL) делается таким образом:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003e--palette-hue-2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--palette-hue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e + \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--palette-step-1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИ затем оттенок используется для формирования цвета в формате HSL:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ehsl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--palette-hue\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--base-sat\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--base-lght\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eКонечно, подобные вещи удобнее и логичнее делать на JS, демо просто показывает, что CSS достаточно мощный, чтобы уметь такое.\u003c/p\u003e\n\u003ch3 id=examples\u003e\u003ca href=\"#examples\"\u003eПримеры использования\u003c/a\u003e\u003c/h3\u003e\n\n\u003ch4\u003eCохранение логики рассчётов\u003c/h4\u003e\n\n\u003cp\u003eНапример, если нужна ширина в 1/12 от общей, можно высчитать значение и записать его в стили:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.block\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 8.33%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eНо так непонятно что это за число. Станет немного понятнее, если логику рассчёта положить рядом в комментарии:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.block\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 8.33%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e/* 100% / 12 */\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eА если использовать \u003ccode\u003ecalc()\u003c/code\u003e, можно само математическое выражение сделать значением:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.block\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% / 12\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eТак сразу понятно, что элемент занимает 1/12 ширины родителя, и не нужно поддерживать комментарии в актуальном состоянии.\u003c/p\u003e\n\u003ch4\u003eУправление размерами элементов\u003c/h4\u003e\n\n\u003cp\u003eНапример, есть карточка с картинкой, картинка ужимается под ширину колонки с текстом:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.card\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emin-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 300px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emax-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 400px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003epadding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003e.card__img\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 100%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"570\"\n      style=\"width: 100%\"\n      title=\"Simple card with image\"\n      src=\"https://codepen.io/yoksel/embed/zYqyjmR?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eКак растянуть картинку на ширину карточки не привязываясь к размерам карточки? С помощью \u003ccode\u003ecalc()\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.card\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emin-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 300px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emax-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 400px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003epadding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003e.card__img\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Ширина картинки */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% + 2rem\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Сдвиг влево на размер паддинга */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emargin-left\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e -1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"570\"\n      style=\"width: 100%\"\n      title=\"Simple card with full-width image\"\n      src=\"https://codepen.io/yoksel/embed/gOrZzJb?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eМожно ещё немного улучшить код, используя кастомные свойства:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.card\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--padding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token property\"\u003emin-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 300px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emax-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 400px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003epadding\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--padding\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003e.card__img\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% + \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--padding\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003emargin-left\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--padding\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * -1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eТак сохранится логика рассчётов, \u003ccode\u003e1rem\u003c/code\u003e становится не магическим числом, а именованной переменной, и по самому коду будет понятно, что ширина картинки увеличивается на два паддинга, а потом сдвигается влево на один. Можно примерно понять что делает этот код даже не глядя на страницу в браузере.\u003c/p\u003e\n\u003cp\u003eЕщё это будет полезно для инпутов. Допустим, нужно, чтобы инпут тянулся на всю ширину родителя, оставляя 40 пикселей справа. Вариант с фиксированной шириной не подходит для адаптивного дизайна. Если просто задать ширину 100% и марджин, блок растянется на всю ширину и сжиматься не будет. С этой задачей прекрасно справится \u003ccode\u003ecalc()\u003c/code\u003e:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003e.input\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% - 40px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"oNxVzze\"\n      src=\"https://codepen.io/yoksel/embed/oNxVzze?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eТекстовое поле всегда будет отодвинуто от края на 40px (+ паддинг) независимо от размера родительского элемента.\u003c/p\u003e\n\u003ch4\u003eАдаптивная типографика\u003c/h4\u003e\n\n\u003cp\u003eС помощью \u003ccode\u003ecalc()\u003c/code\u003e можно примешивать единицы вьюпорта к обычному размеру шрифта, тогда при увеличении размеров экрана будет расти и шрифт:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003eBODY\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003efont-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e1rem + .5vw\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003eline-height\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e1.2rem + .5vw\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eПорастягивайте демо, чтобы увидеть как размер окна влияет на размер шрифта:\u003c/p\u003e\n\u003cdiv class=\"resizable resizable--x\"\u003e\u003ciframe height=\"400\"\n      style=\"width: 100%\"\n      title=\"Simple card with adaptive font-size\"\n      src=\"https://codepen.io/yoksel/embed/abNPQQB?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\u003c/div\u003e\n\n\u003cp\u003eПочитать об этом больше можно \u003ca href=\"https://css-tricks.com/fun-viewport-units/\"\u003eтут\u003c/a\u003e или \u003ca href=\"https://css-tricks.com/snippets/css/fluid-typography/\"\u003eтут\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eМне больше нравится вариант с \u003ccode\u003eclamp()\u003c/code\u003e, который не только позволяет шрифту расти, но и задаёт ему верхнюю и нижнюю границы.\u003c/p\u003e\n\u003ch4\u003eУправление размерами фона\u003c/h4\u003e\n\n\u003cp\u003eС помощью \u003ccode\u003ecalc()\u003c/code\u003e можно задать размер фоновому изображению, комбинируя фиксированные единицы и проценты. Например, чтобы фон всегда отступал от краёв на определённое значение:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003eDIV\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--offset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--bg-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% - \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e/* Цветной градиент */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003elinear-gradient\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e45deg\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e crimson\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 20%\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e gold\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 80%\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e turquoise\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e no-repeat\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Размер фона */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--bg-size\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--bg-size\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Отступ от края элемента */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground-position\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"Gradient size with calc()\"\n      src=\"https://codepen.io/yoksel/embed/abNPKBP?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eПолосатые поля показывают прозрачные области вокруг разноцветного градиента.\u003c/p\u003e\n\u003cp\u003eИспользуя этот же подход можно делать вырезанные углы квадратной формы:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003eDIV\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--offset\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--bg-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e100% - \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e/* Однотонный фон из двух градиентов */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003elinear-gradient\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eturquoise\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e turquoise\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003elinear-gradient\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eturquoise\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e turquoise\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground-repeat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e no-repeat\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Один фон сжат по вертикали, другой по горизонтали */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground-size\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    100% \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--bg-size\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--bg-size\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e 100%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e/* Один фон сдвинут по вертикали, другой по горизонтали */\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground-position\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    0 \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--offset\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e 0\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"MWyZqee\"\n      src=\"https://codepen.io/yoksel/embed/MWyZqee?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eВ отличие от \u003ca href=\"https://codepen.io/yoksel/pen/abOaKYv\"\u003eверсии с коническими градиентами\u003c/a\u003e, этот вариант будет работать во всех браузерах. Способ был \u003ca href=\"https://twitter.com/SelenIT2/status/1242013922946883585\"\u003eпредложен\u003c/a\u003e Ильёй Стрельциным.\u003c/p\u003e\n\u003cp\u003eТакже можно рисовать линейными градиентами полосы заданной ширины:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token selector\"\u003eDIV\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e--line-witdh\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 3rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token function\"\u003elinear-gradient\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n      to left top\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      transparent \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e50% - \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--line-witdh\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e / 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      turquoise 0\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e turquoise \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e50% + \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--line-witdh\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e / 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      transparent 0\n    \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"Linear gradient with calc()\"\n      src=\"https://codepen.io/yoksel/embed/rNeRyYL?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003ch4\u003eВычисление цветов и шагов градиента\u003c/h4\u003e\n\n\u003cp\u003eИногда для экспериментов нужен полосатый градиент. Чтобы не считать параметры руками, их можно вычислять с помощью \u003ccode\u003ecalc()\u003c/code\u003e на основе кастомных свойств. Вот так задаются параметры:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token property\"\u003e--steps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 9\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token property\"\u003e--hue-step\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e360deg / \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--steps\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token property\"\u003e--line-width\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 1rem\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eА вот так потом высчитывается оттенок:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token function\"\u003ehsl\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--hue-step\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * 2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 100%\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 63%\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИ точка остановки:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token function\"\u003ecalc\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--line-width\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e * 7\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eРедактируя переменные можно менять параметры градиента без необходимости пересчитывать вручную шаги или переписывать весь градиент.\u003c/p\u003e\n\u003cp\u003eПравда, при таком автоматическим вычислении оттенков могут получаться не очень красивые цвета, но для экспериментов вполне пойдёт.\u003c/p\u003e\n\u003ciframe height=\"350\"\n      style=\"width: 100%\"\n      title=\"MWyZPYr\"\n      src=\"https://codepen.io/yoksel/embed/MWyZPYr?\u0026default-tab=result\"\n    \u003e\u003c/iframe\u003e\n\n\u003cp\u003eОбласть применения \u003ccode\u003ecacl()\u003c/code\u003e гораздо шире перечисленных примеров. В некоторых случаях, если значения не должны меняться динамически, с подобными задачами справятся и препроцессоры, но если должны, например, при изменении кастомных свойств или размера окна, — без \u003ccode\u003ecalc()\u003c/code\u003e не обойтись.\u003c/p\u003e\n\u003ch3 id=nuances\u003e\u003ca href=\"#nuances\"\u003eНюансы\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eПри использовании \u003ccode\u003ecalc()\u003c/code\u003e нужно помнить о некоторых тонкостях:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eарифметический знак всегда нужно окружать пробелами, чтобы браузер мог правильно разобрать выражение. Например, \u003ccode\u003ewidth: calc(100% -50px)\u003c/code\u003e не будет работать, правильно так: \u003ccode\u003ewidth: calc(100% - 50px)\u003c/code\u003e. Для умножения и деления это требование не является обязательным, но лучше всегда добавлять пробелы, чтобы сохранить код единообразным и легко читаемым;\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eделить на ноль нельзя, в результате будет ошибка;\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode\u003ecalc()\u003c/code\u003e умеет производить рассчёты только для совместимых единиц. Например, можно сложить пиксели с процентами или единицами вьюпорта, градусы с радианами и вычесть миллисекунды из секунд, но вот сложить секунды с пикселями или градусы с единицами вьюпорта ожидаемо не получится, потому что непонятно в каких единицах ожидается результат.\u003c/p\u003e\n\u003cp\u003eУ меня была слегка безумная идея привязать градусы градиента к ширине вьюпорта (и вращать градиент растягивая окно браузера), но я не придумала как это можно реализовать, и не уверена, что это в принципе возможно без JS;\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eрассчёты в медиавыражениях поддерживаются только для одинаковых единиц: пиксели можно складывать с пикселями, ремы с ремами. Складывать пиксели с ремами внутри медиавыражения нельзя. Кастомные свойства внутри медиавыражений не работают вообще, и никакие вычисления с ними, соответственно, невозможны (\u003ca href=\"https://codepen.io/yoksel/full/bGpQXdb\"\u003eдемо с calc() в @media\u003c/a\u003e). Для каких-то сложных конструкций можно попробовать воспользоваться \u003ca href=\"https://css-tricks.com/logic-in-media-queries/\"\u003eлогическими операциями\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=restrictions\u003e\u003ca href=\"#restrictions\"\u003eСветлое будущее?\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eВ \u003ca href=\"https://www.w3.org/TR/css-values-4/#calc-notation\"\u003eспецификации\u003c/a\u003e есть интересный момент: утверждается, что внутри \u003ccode\u003ecalc()\u003c/code\u003e в качестве значений можно использовать содержимое атрибутов, да и в принципе можно использовать атрибуты как \u003ca href=\"https://www.w3.org/TR/css-values-4/#attr-notation\"\u003eзначения CSS-свойств\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eОт обычного использования \u003ccode\u003eattr()\u003c/code\u003e в качестве \u003ca href=\"/content\"\u003eсодержимого псевдоэелемента\u003c/a\u003e это отличается указанием типа содержимого:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* HTML\n\u0026lt;div data-color=\"#FC9\"\u003e...\u0026lt;/div\u003e\n*/\u003c/span\u003e\n\n\u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eattr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edata-color color\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e orange\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИли единиц измерения:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* HTML\n\u0026lt;div data-length=\"300\"\u003e...\u0026lt;/div\u003e\n*/\u003c/span\u003e\n\n\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eattr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edata-length px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 200px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eЗначение после запятой — запасное, на случай, если не удастся получить или распарсить значение атрибута.\u003c/p\u003e\n\u003cp\u003eПоначалу эта конструкция показалась мне странной: зачем класть данные в атрибуты, а потом ещё и типизировать их в CSS, если можно сразу положить нужное в кастомные свойства?\u003c/p\u003e\n\u003cp\u003eНапример:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* HTML\n\u0026lt;div style=\"--width: 100px\"\u003e\u0026lt;/div\u003e\n*/\u003c/span\u003e\n\n\u003cspan class=\"token selector\"\u003eDIV\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003evar\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e--width\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003eheight\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 50px\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003ebackground\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e gold\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eНо \u003ca href=\"https://twitter.com/yoksel/status/1304025539120902145\"\u003eв твиттере\u003c/a\u003e мне быстро накидали примеров, когда это было бы действительно удобно. Например, получая размеры из атрибутов было бы удобно делать адаптивные картинки и фреймы. У меня получилось сделать \u003ca href=\"/adaptive-video-with-css-math\"\u003eадаптивное видео\u003c/a\u003e, используя кастомные свойства, но для этого приходится дублировать размеры в инлайновых стилях. Если бы можно было считывать значения из атрибутов, без дублирования можно было бы обойтись.\u003c/p\u003e\n\u003cp\u003eНа момент написания статьи это не поддерживается \u003ca href=\"https://caniuse.com/mdn-css_types_attr_type-or-unit\"\u003eни одним браузером\u003c/a\u003e, но есть некоторая надежда, что однажды это заработает, потому что подобное использование атрибутов описано в спецификации свойства, которое помогло бы управлять соотношением сторон: \u003ca href=\"https://drafts.csswg.org/css-sizing-4/#ratios\"\u003easpect-ratio\u003c/a\u003e. Там есть такой пример:\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token comment\"\u003e/* HTML\n\u0026lt;iframe\n  src=\"https://www.youtube.com/embed/0Gr1XSyxZy0\"\n  width=560\n  height=315\u003e\n*/\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@supports\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token property\"\u003easpect-ratio\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eattr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewidth number\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e / 1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token selector\"\u003eiframe\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003easpect-ratio\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003eattr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ewidth number\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e / \u003cspan class=\"token function\"\u003eattr\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eheight number\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e 100%\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token property\"\u003eheight\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e auto\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n\u003cp\u003eИ вот это было бы очень круто, потому что избавило бы разработчиков от необходимости городить \u003ca href=\"https://css-tricks.com/fluid-width-video/\"\u003eстранные конструкции\u003c/a\u003e для решения той же задачи. Почитать про \u003ccode\u003easpect-ratio\u003c/code\u003e можно в статье Рэйчел Эндрю \u003ca href=\"https://www.smashingmagazine.com/2019/03/aspect-ratio-unit-css/\"\u003eDesigning An Aspect Ratio Unit For CSS\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eТакже не так давно в \u003ca href=\"https://drafts.csswg.org/css-values-4/#round-func\"\u003eчерновики\u003c/a\u003e \u003ca href=\"https://css-live.ru/vecssti-s-polej/novye-matematicheskie-funkcii-v-module-edinic-i-znachenij-css-4-urovnya-eshhe-odin-shag-k-polnocennomu-programmirovaniyu-na-css.html\"\u003eбыли добавлены\u003c/a\u003e другие математические функции, например, \u003ccode\u003emod()\u003c/code\u003e, \u003ccode\u003eround()\u003c/code\u003e, \u003ccode\u003esin()\u003c/code\u003e и многие другие. Это совсем свежее добавление, новые функции ещё нигде не поддерживаются.\u003c/p\u003e\n\u003ch2 id=support\u003e\u003ca href=\"#support\"\u003eПоддержка браузерами\u003c/a\u003e\u003c/h2\u003e\n\n\u003cp\u003e\u003ccode\u003emin()\u003c/code\u003e, \u003ccode\u003emax()\u003c/code\u003e, \u003ccode\u003eclamp()\u003c/code\u003e и \u003ccode\u003ecalc()\u003c/code\u003e поддерживаются в \u003ca href=\"https://caniuse.com/css-math-functions\"\u003eбольшинстве современных браузеров\u003c/a\u003e, их поддержка примерно совпадает с \u003ca href=\"https://caniuse.com/css-variables\"\u003eкастомными свойствами\u003c/a\u003e. И то, и другое не работает в IE11.\u003c/p\u003e\n\u003cp\u003eПри необходимости проверить поддержку функций и кастомных свойств можно воспользоваться \u003ccode\u003e@supports\u003c/code\u003e (также учитывая \u003ca href=\"https://caniuse.com/css-featurequeries\"\u003eподдержку браузерами\u003c/a\u003e для него):\u003c/p\u003e\n\u003cfigure aria-label=\"Пример кода\"\u003e\u003cpre class=\"language-css\"\u003e\u003ccode class=\"language-css\"\u003e\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@supports\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token property\"\u003e--color\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e pink\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  ...\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token atrule\"\u003e\u003cspan class=\"token rule\"\u003e@supports\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token property\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token function\"\u003emin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e10px\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e 20px\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  ...\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/figure\u003e\n","links":[{"href":"https://www.w3.org/TR/css-values-4/#calc-notation","text":"Mathematical Expressions: calc(), min(), max() and clamp()"},{"href":"http://lesscss.org/functions/#math-functions","text":"Less: Math Functions"},{"href":"http://lesscss.org/#escaping","text":"Less: Escaping"},{"href":"https://sass-lang.com/documentation/modules/math","text":"Sass:math"},{"href":"https://sass-lang.com/documentation/syntax/special-functions","text":"Special Functions"},{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/calc","text":"calc()"},{"href":"https://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/","text":"Getting Started With CSS calc ()"},{"href":"https://css-live.ru/articles/kogda-byvaet-nuzhen-calc.html","text":"Когда бывает нужен calc()"},{"href":"https://css-tricks.com/keep-math-in-the-css/","text":"Keep Math in the CSS"},{"href":"https://css-tricks.com/when-sass-and-new-css-features-collide/","text":"When Sass and New CSS Features Collide"},{"href":"https://medium.com/buildit/hardcore-css-calc-bdfb0162993c","text":"Hardcore CSS calc()"},{"href":"https://css-tricks.com/a-complete-guide-to-calc-in-css/","text":"A Complete Guide to calc() in CSS"},{"href":"https://heydonworks.com/article/the-flexbox-holy-albatross-reincarnated/","text":"The Flexbox Holy Albatross Reincarnated"},{"href":"https://www.madebymike.com.au/writing/fluid-type-calc-examples/","text":"Fluid typography examples"},{"href":"https://css-tricks.com/snippets/css/fluid-typography/","text":"Fluid Typography"},{"href":"https://css-tricks.com/fun-viewport-units/","text":"Fun with Viewport Units"},{"href":"https://css-tricks.com/logic-in-media-queries/","text":"Logic in Media Queries"},{"href":"https://drafts.csswg.org/css-sizing-4/#ratios","text":"aspect-ratio"},{"href":"https://www.smashingmagazine.com/2019/03/aspect-ratio-unit-css/","text":"Designing An Aspect Ratio Unit For CSS"},{"href":"https://css-tricks.com/fluid-width-video/","text":"Fluid Width Video"},{"href":"https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport","text":"Linearly Scale font-size with CSS clamp() Based on the Viewport]()"},{"href":"https://www.w3.org/TR/css-values-3/#attr-notation","text":"Attribute References: attr()"},{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/attr","text":"attr()"},{"href":"https://css-live.ru/vecssti-s-polej/novye-matematicheskie-funkcii-v-module-edinic-i-znachenij-css-4-urovnya-eshhe-odin-shag-k-polnocennomu-programmirovaniyu-na-css.html","text":"Новые математические функции в модуле единиц и значений CSS 4 уровня – еще один шаг к полноценному программированию на CSS"},{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/@supports","text":"@supports"},{"href":"/size-units/#relative-units","text":"Единицы размеров в CSS"},{"href":"/adaptive-video-with-css-math","text":"Адаптивное видео с помощью встроенных математических функций CSS"}],"tags":["css-math"],"navItems":[{"id":"min-max","text":"min(), max()","level":0},{"id":"clamp","text":"clamp()","level":0},{"id":"calc","text":"calc()","level":0},{"id":"examples","text":"Примеры использования","level":1},{"id":"nuances","text":"Нюансы","level":1},{"id":"restrictions","text":"Светлое будущее?","level":1},{"id":"support","text":"Поддержка браузерами","level":0}],"date":"2020-09-26"},"posts":[{"date":"2020-09-26","href":"/css-math","text":"Математические функции в CSS","type":"post"},{"date":"2020-09-24","href":"/adaptive-video-with-css-math","text":"Адаптивное видео с помощью встроенных математических функций CSS","type":"post"},{"date":"2020-08-30","href":"/inaccessibility","text":"Недоступность в картинках","type":"post"},{"date":"2020-08-13","href":"/size-units","text":"Единицы размеров в CSS","type":"post"},{"date":"2020-07-27","href":"/color-themes-generator","text":"Генератор цветовых тем","type":"post"},{"date":"2020-07-25","href":"/jekyll-gatsby","text":"Jekyll → Gatsby","type":"post"},{"date":"2018-06-18","href":"/opentype-variable-fonts","text":"Вариативные шрифты","type":"post"},{"date":"2017-08-15","href":"/svg-sizes","text":"Размеры в SVG","type":"post"},{"date":"2017-01-13","href":"/adaptive-pixel-perfect","text":"Адаптивный Pixel Perfect","type":"post"},{"date":"2016-12-20","href":"/a11y-for-logotypes","text":"Логотип не отвечает или временно недоступен","type":"post"},{"date":"2016-11-23","href":"/svg-patterns","text":"SVG-паттерны","type":"post"},{"date":"2016-08-18","href":"/svg-bubble","text":"Мыльные пузыри на SVG","type":"post"},{"date":"2016-08-11","href":"/svg-gradients","text":"SVG-градиенты","type":"post"},{"date":"2016-02-12","href":"/funny-little-console","text":"Весёлая консолька","type":"post"},{"date":"2016-02-04","href":"/svg-masks","text":"SVG-маски","type":"post"},{"date":"2015-07-06","href":"/scroll-snap","text":"Умная прокрутка со Scroll Snap Points","type":"post"},{"date":"2014-08-11","href":"/css-animation-algorithms","text":"CSS-анимации для ротации изображений","type":"post"},{"date":"2014-08-10","href":"/animated-svg-mask","text":"Анимированные SVG-маски","type":"post"},{"date":"2014-07-26","href":"/svg-stroke","text":"Странности обводки в SVG","type":"post"},{"date":"2014-07-08","href":"/svg-preloaders","text":"SVG-прелоадеры","type":"post"},{"date":"2014-07-04","href":"/animated-gradients-2","text":"Анимируем градиенты ещё раз","type":"post"},{"date":"2014-06-15","href":"/background-blend-mode","text":"Background-blend-mode","type":"post"},{"date":"2014-04-17","href":"/svg-decoration","text":"Возможности оформления SVG","type":"post"},{"date":"2014-04-12","href":"/css-and-svg-masks","text":"CSS и SVG маски","type":"post"},{"date":"2014-04-06","href":"/nth-child","text":"Nth-child и nth-of-type","type":"post"},{"date":"2014-03-29","href":"/svg-icons","text":"SVG-иконки","type":"post"},{"date":"2014-03-27","href":"/svg-fill-and-stroke","text":"SVG: заливка и обводка","type":"post"},{"date":"2014-03-23","href":"/svg-path","text":"SVG-path","type":"post"},{"date":"2014-03-22","href":"/svg-groups-use","text":"SVG: группировка и переиспользование элементов","type":"post"},{"date":"2014-03-21","href":"/svg-shapes","text":"SVG-фигуры и трансформации","type":"post"},{"date":"2014-03-19","href":"/svg","text":"SVG","type":"post"},{"date":"2014-03-04","href":"/3d-and-gradients","text":"СSS-градиенты и 3D","type":"post"},{"date":"2014-02-23","href":"/shadowpainter","text":"Рисовалка анимированных теней","type":"post"},{"date":"2014-02-12","href":"/new-patterns","text":"Свежие CSS-паттерны","type":"post"},{"date":"2014-02-07","href":"/css-patterns","text":"CSS-паттерны","type":"post"},{"date":"2014-02-05","href":"/radial-gradients","text":"Радиальные градиенты","type":"post"},{"date":"2014-02-04","href":"/linear-gradients","text":"Линейные градиенты","type":"post"},{"date":"2014-01-25","href":"/tic-tac-toe","text":"Крестики-нолики на CSS","type":"post"},{"date":"2014-01-22","href":"/border-image","text":"Border-image","type":"post"},{"date":"2014-01-19","href":"/digital-watch","text":"Электронные часы на CSS и JS.","type":"post"},{"date":"2014-01-03","href":"/specifity","text":"Сколько весят селекторы?","type":"post"},{"date":"2014-01-02","href":"/unicode","text":"Символы юникода","type":"post"},{"date":"2013-12-22","href":"/content","text":"Свойство content","type":"post"},{"date":"2013-12-16","href":"/animation-for-gradients","text":"Анимируем CSS-градиенты","type":"post"},{"date":"2013-12-09","href":"/text-effects","text":"Текстовые эффекты","type":"post"},{"date":"2013-11-27","href":"/list-like-tree","text":"Древовидный список на CSS","type":"post"},{"date":"2013-11-20","href":"/css-selectors-part2","text":"Css-селекторы, часть 2","type":"post"},{"date":"2013-11-16","href":"/css-selectors","text":"Css-селекторы","type":"post"},{"date":"2013-10-22","href":"/kontekst-nalozheniya","text":"Контекст наложения","type":"post"},{"date":"2013-10-09","href":"/box-sizing","text":"Box-sizing","type":"post"},{"date":"2013-10-09","href":"/dva-sposoba-proshit-e-lement-po-krayu","text":"Два способа \"прошить\" элемент по краю","type":"post"},{"date":"2013-10-06","href":"/tsveta","text":"Цвета в CSS","type":"post"},{"date":"2013-10-04","href":"/fon-pod-strochkami-dobavlyaem-polya","text":"Фон под строчками: добавляем поля","type":"post"},{"date":"2013-09-29","href":"/box-shadow","text":"Box-shadow","type":"post"},{"date":"2013-09-27","href":"/css-figury-lepestok","text":"Css-фигуры: лепесток","type":"post"},{"date":"2013-09-26","href":"/3d-cube","text":"3D-куб","type":"post"},{"date":"2013-09-26","href":"/css-animation","text":"Css Animation","type":"post"},{"date":"2013-09-26","href":"/transform","text":"Transform","type":"post"},{"date":"2013-09-17","href":"/border-radius","text":"Border-radius","type":"post"},{"date":"2013-09-10","href":"/first-letter","text":"First letter","type":"post"},{"date":"2013-09-06","href":"/css-figury","text":"CSS-фигуры","type":"post"},{"date":"2013-09-06","href":"/eti-glaza-naprotiv","text":"Эти глаза напротив","type":"post"},{"date":"2013-09-04","href":"/strelki-s-pomoshh-yu-svojstva-border","text":"Стрелки с помощью свойства border","type":"post"},{"date":"2013-09-03","href":"/flexbox","text":"Flexbox","type":"post"}],"pages":[{"date":"2014-03-19","type":"page","href":"/pages/svg-links","text":"SVG: полезные ссылки"},{"date":"2013-11-16","type":"page","href":"/pages/css-selectors","text":"CSS-селекторы одной таблицей"},{"date":"2013-10-06","type":"page","href":"/pages/tablitsa-imenovanny-h-tsvetov","text":"Таблица именованных цветов"},{"date":"2013-09-27","type":"page","href":"/pages/transform-functions","text":"Функции Transform"},{"date":"2013-09-26","type":"page","href":"/pages/svojstva-animation","text":"Свойства Animation одной таблицей"},{"date":"2013-09-26","type":"page","href":"/pages/svojstva-transform","text":"Свойства Transform"},{"date":"2013-09-04","type":"page","href":"/pages/razny-j-sintaksis-flexbox","text":"Разный синтаксис Flexbox"},{"date":"2013-09-03","type":"page","href":"/pages/svojstva-flexbox","text":"Свойства Flexbox одной таблицей"}],"prevNext":{"prev":{"date":"2020-09-24","href":"/adaptive-video-with-css-math","text":"Адаптивное видео с помощью встроенных математических функций CSS","type":"post","id":"previous"}}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"css-math"},"buildId":"LcKEv6KKPVPwwsRWWnW_1","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>